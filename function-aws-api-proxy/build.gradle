plugins {
    id("io.micronaut.build.internal.module")
}

dependencies {
    annotationProcessor libs.micronaut.graal
    annotationProcessor("io.micronaut.serde:micronaut-serde-processor:1.0.1")

    compileOnly libs.micronaut.security

    implementation libs.micronaut.http.netty

    implementation libs.projectreactor
    implementation libs.micronaut.serde
    implementation libs.micronaut.serde.jackson

    api libs.micronaut.http.server
    api(libs.managed.aws.serverless.core) {
        exclude group:'javax.servlet', module:'javax.servlet-api'
        exclude group:'com.fasterxml.jackson.module', module:'jackson-module-afterburner'
        exclude group: "commons-logging"
    }
    api libs.managed.jcl.over.slf4j
    api project(":function-aws")
    api project(":aws-common")

    testAnnotationProcessor libs.micronaut.validation
    testImplementation libs.micronaut.validation

    testImplementation libs.micronaut.inject.java
    testImplementation libs.micronaut.http.client
    testImplementation libs.micronaut.security

    testImplementation libs.micronaut.views.handlebars

    testImplementation libs.jackson.afterburner
    testImplementation libs.servlet.api
    testImplementation libs.fileupload
}
